{"remainingRequest":"/myp/vue/sell/node_modules/vue-loader/lib/index.js??vue-loader-options!/myp/vue/sell/src/components/ratings/ratings.vue?vue&type=style&index=0&lang=stylus&rel=stylesheet%2Fstylus&","dependencies":[{"path":"/myp/vue/sell/src/components/ratings/ratings.vue","mtime":1580745101000},{"path":"/myp/vue/sell/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/myp/vue/sell/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/myp/vue/sell/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/myp/vue/sell/node_modules/stylus-loader/index.js","mtime":1519606876000},{"path":"/myp/vue/sell/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/myp/vue/sell/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoNCkBpbXBvcnQgJ2NvbW1vbi9zdHlsdXMvbWl4aW4uc3R5bCcNCg0KICAucmF0aW5ncw0KICAgIHBvc2l0aW9uOiBhYnNvbHV0ZQ0KICAgIHRvcDogMTc0cHgNCiAgICAvLyBib3R0b206IDQ2cHgNCiAgICBib3R0b206IDANCiAgICB3aWR0aDogMTAwJQ0KICAgIG92ZXJmbG93OiBoaWRkZW4NCiAgICAuc2NvcmUtd3JhcHBlcg0KICAgICAgZGlzcGxheTogZmxleA0KICAgICAgcGFkZGluZzogMThweCAwDQogICAgICAuc2NvcmUNCiAgICAgICAgZmxleDogMCAxIDEzN3B4DQogICAgICAgIHRleHQtYWxpZ246IGNlbnRlcg0KICAgICAgICBib3JkZXItcmlnaHQ6IDFweCBzb2xpZCByZ2JhKDcsIDE3LCAyNywgMC4xKQ0KICAgICAgICAuc2NvcmUtbnVtDQogICAgICAgICAgbWFyZ2luLWJvdHRvbTogNnB4DQogICAgICAgICAgZm9udC1zaXplOiAyNHB4DQogICAgICAgICAgbGluZS1oZWlnaHQ6IDI4cHgNCiAgICAgICAgICBjb2xvcjogcmdiKDI1NSwgMTUzLCAwKQ0KICAgICAgICAuY29tLXNjb3JlDQogICAgICAgICAgbWFyZ2luLWJvdHRvbTogOHB4DQogICAgICAgICAgZm9udC1zaXplOiAxMnB4DQogICAgICAgICAgbGluZS1oZWlnaHQ6IDEycHgNCiAgICAgICAgICBjb2xvcjogcmdiKDcsIDE3LCAyNykNCiAgICAgICAgLmV4dHJhDQogICAgICAgICAgbWFyZ2luLWJvdHRvbTogNnB4DQogICAgICAgICAgZm9udC1zaXplOiAxMHB4DQogICAgICAgICAgbGluZS1oZWlnaHQ6IDEwcHgNCiAgICAgICAgICBjb2xvcjogcmdiYSg3LCAxNywgMjcsIDAuNSkNCiAgICAgIC5zY29yZS1zdGFyDQogICAgICAgIGZsZXg6IDENCiAgICAgICAgbWFyZ2luOiAwIDI0cHgNCiAgICAgICAgLnNlcnZpY2Utc3dlcHBlcg0KICAgICAgICAgIGZvbnQtc2l6ZTogMTJweA0KICAgICAgICAgIC5zZXJ2aWNlLXRpdGxlDQogICAgICAgICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2sNCiAgICAgICAgICAgIG1hcmdpbi1yaWdodDogMTJweA0KICAgICAgICAgIC5zdGFyDQogICAgICAgICAgICBkaXNwbGF5OiBpbmxpbmUNCiAgICAgICAgICAgIG1hcmdpbi1yaWdodDogMTJweA0KICAgICAgICAgIC5zY29yZS1yaWdodA0KICAgICAgICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrDQogICAgICAgICAgICBsaW5lLWhlaWdodDogMThweA0KICAgICAgICAgICAgY29sb3I6IHJnYigyNTUsIDE1MywgMCkNCiAgICAgICAgICAuZGVsaXZlcnktdGltZQ0KICAgICAgICAgICAgZGlzcGxheTogaW5saW5lDQogICAgICAgICAgICBjb2xvcjogcmdiKDE0NywgMTUzLCAxNTkpDQogICAgICAgIC5zZXJ2aWNlLXN3ZXBwZXI6bm90KDpsYXN0LWNoaWxkKQ0KICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogOHB4DQogICAgLnJhdGluZy1yZWdpb24NCiAgICAgIG1hcmdpbjogMThweCAyNHB4DQogICAgLmNvbnRlbnQtd2VwcGVyDQogICAgICBib3JkZXItdG9wOiAxcHggc29saWQgcmdiYSg3LCAxNywgMjcsIDAuMSkNCiAgICAgIC5saXN0LXJhdGluZ3MNCiAgICAgICAgcGFkZGluZzogMCAxOHB4DQogICAgICAgIC5yYXRpbmctY29udGVudA0KICAgICAgICAgIGRpc3BsYXk6IGZsZXgNCiAgICAgICAgICBtYXJnaW4tdG9wOiAxOHB4DQogICAgICAgICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkIHJnYmEoNywgMTcsIDI3LCAwLjEpDQogICAgICAgICAgLmF2YXRhcg0KICAgICAgICAgICAgZmxleDogMCAxIDI4cHgNCiAgICAgICAgICAgIG1hcmdpbi1yaWdodDogMTJweA0KICAgICAgICAgICAgd2lkdGg6IDI4cHgNCiAgICAgICAgICAgIGhlaWdodDogMjhweA0KICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogNTAlDQogICAgICAgICAgICBvdmVyZmxvdzogaGlkZGVuDQogICAgICAgICAgICBpbWcNCiAgICAgICAgICAgICAgd2lkdGg6IDEwMCUNCiAgICAgICAgICAuY29udGVudA0KICAgICAgICAgICAgZmxleDogMQ0KICAgICAgICAgICAgZm9udC1zaXplOiAxMHB4DQogICAgICAgICAgICBsaW5lLWhlaWdodDogMTJweA0KICAgICAgICAgICAgLmNvbnRlbnQtaGVhZGVyDQogICAgICAgICAgICAgIC5uYW1lDQogICAgICAgICAgICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrDQogICAgICAgICAgICAgICAgY29sb3I6IHJnYig3LCAxNywgMjcpDQogICAgICAgICAgICAgIC50aW1lDQogICAgICAgICAgICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrDQogICAgICAgICAgICAgICAgZmxvYXQ6IHJpZ2h0DQogICAgICAgICAgICAgICAgZm9udC13ZWlnaHQ6IDIwMA0KICAgICAgICAgICAgICAgIGNvbG9yOiByZ2IoMTQ3LCAxNTMsIDE1OSkNCiAgICAgICAgICAgIC5jb250ZW50LXN0YXINCiAgICAgICAgICAgICAgLnN0YXINCiAgICAgICAgICAgICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2sNCiAgICAgICAgICAgICAgICBtYXJnaW46IDRweCA2cHggMCAwDQogICAgICAgICAgICAgIC5kZWxpdmVyeS10aW1lDQogICAgICAgICAgICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrDQogICAgICAgICAgICAgICAgZm9udC1zaXplOiAxMHB4DQogICAgICAgICAgICAgICAgbGluZS1oZWlnaHQ6IDEycHgNCiAgICAgICAgICAgICAgICBmb250LXdlaWdodDogMTAwDQogICAgICAgICAgICAgICAgY29sb3I6IHJnYigxNDcsIDE1MywgMTU5KQ0KICAgICAgICAgICAgLnRleHQNCiAgICAgICAgICAgICAgZGlzcGxheTogYmxvY2sNCiAgICAgICAgICAgICAgbWFyZ2luLXRvcDogNnB4DQogICAgICAgICAgICAgIGZvbnQtc2l6ZTogMTJweA0KICAgICAgICAgICAgICBsaW5lLWhlaWdodDogMThweA0KICAgICAgICAgICAgICBjb2xvcjogcmdiKDcsIDE3LCAyNykNCiAgICAgICAgICAgIC5yZWNvbW1lbmQNCiAgICAgICAgICAgICAgZGlzcGxheTogZmxleA0KICAgICAgICAgICAgICBtYXJnaW4tdG9wOiA4cHgNCiAgICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogMThweA0KICAgICAgICAgICAgICBmb250LXNpemU6IDEycHgNCiAgICAgICAgICAgICAgbGluZS1oZWlnaHQ6IDE2cHgNCiAgICAgICAgICAgICAgLmljb24tdGh1bWJfdXANCiAgICAgICAgICAgICAgICBmbGV4OiAwIDEgMjBweA0KICAgICAgICAgICAgICAgIGNvbG9yOiByZ2IoMCwgMTYwLCAyMjApDQogICAgICAgICAgICAgIC5pY29uLXRodW1iX2Rvd24NCiAgICAgICAgICAgICAgICBmbGV4OiAwIDEgMjBweA0KICAgICAgICAgICAgICAgIGNvbG9yOiByZ2IoMTgzLCAxODcsIDE5MSkNCiAgICAgICAgICAgICAgLmZsZXgtcmVjb21tZW5kDQogICAgICAgICAgICAgICAgZGlzcGxheTogZmxleA0KICAgICAgICAgICAgICAgIGZsZXgtd3JhcDogd3JhcA0KICAgICAgICAgICAgICAgIC5saXN0LXJlY29tbWVuZA0KICAgICAgICAgICAgICAgICAgbWFyZ2luOiAwIDhweCA4cHgNCiAgICAgICAgICAgICAgICAgIHBhZGRpbmc6IDAgNnB4DQogICAgICAgICAgICAgICAgICBtaW4td2lkdGg6IDANCiAgICAgICAgICAgICAgICAgIGZvbnQtc2l6ZTogOXB4DQogICAgICAgICAgICAgICAgICBsaW5lLWhlaWdodDogMTZweA0KICAgICAgICAgICAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyDQogICAgICAgICAgICAgICAgICB0ZXh0LW92ZXJmbG93OiBlbGxpcHNpcw0KICAgICAgICAgICAgICAgICAgY29sb3I6IHJnYigxNDcsIDE1MywgMTU5KQ0KICAgICAgICAgICAgICAgICAgYm9yZGVyOiAxcHggc29saWQgcmdiYSg3LCAxNywgMjcsIDAuMSkNCiAgICAgICAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDJweA0KDQo="},{"version":3,"sources":["ratings.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+JA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ratings.vue","sourceRoot":"src/components/ratings","sourcesContent":["<template>\r\n<div class=\"ratings\" ref=\"ratingsScroll\">\r\n  <div class=\"ratings-content\">\r\n    <div class=\"rating-\"></div>\r\n    <div class=\"score-wrapper\">\r\n      <div class=\"score\">\r\n        <div class=\"score-num\">{{seller.score}}</div>\r\n        <div class=\"com-score\">综合评分</div>\r\n        <div class=\"extra\">高于周边商家{{seller.rankRate}}%</div>\r\n      </div>\r\n      <div class=\"score-star\">\r\n        <div class=\"service-swepper\">\r\n          <h2 class=\"service-title\">商品评分</h2>\r\n          <Star\r\n            :size=24\r\n            :score=\"seller.foodScore\"\r\n            class=\"star\"\r\n          />\r\n          <div class=\"score-right\">{{seller.score}}</div>\r\n        </div>\r\n        <div class=\"service-swepper\">\r\n          <h2 class=\"service-title\">服务态度</h2>\r\n          <Star\r\n            :size=24\r\n            :score=\"seller.serviceScore\"\r\n            class=\"star\"\r\n          />\r\n          <div class=\"score-right\">{{seller.serviceScore}}</div>\r\n        </div>\r\n        <div class=\"service-swepper\">\r\n          <h2 class=\"service-title\">送达时间</h2>\r\n          <div class=\"delivery-time\">{{seller.deliveryTime}}分钟</div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <SpliceLine />\r\n    <RatingSelect\r\n      @select=\"selectRating\"\r\n      @toggle=\"toggleContent\"\r\n      :selectType=\"selectType\"\r\n      :onlyContent=\"onlyContent\"\r\n      :ratings=\"ratings\"\r\n      class=\"rating-region\"\r\n    />\r\n    <div class=\"content-wepper\">\r\n      <ul class=\"list-ratings\">\r\n        <li\r\n          v-show=\"needShow(rating.rateType, rating.text)\"\r\n          v-for=\"(rating, index) in ratings\"\r\n          :key=\"index\"\r\n          class=\"rating-content\"\r\n        >\r\n          <div class=\"avatar\"><img :src=\"rating.avatar\" alt=\"\"></div>\r\n          <div class=\"content\">\r\n            <div class=\"content-header\">\r\n              <span class=\"name\">{{rating.username}}</span>\r\n              <span class=\"time\">{{rating.rateTime | formatDate}}</span>\r\n            </div>\r\n            <div class=\"content-star\">\r\n              <Star class=\"star\" :size=36 :score=\"rating.score\" />\r\n              <span class=\"delivery-time\">{{rating.deliveryTime? rating.deliveryTime + '分钟送达' : ''}}</span>\r\n            </div>\r\n            <span class=\"text\">{{rating.text}}</span>\r\n            <div class=\"recommend\">\r\n              <span v-if=\"rating.rateType === 0\" class=\"icon-thumb_up\"></span>\r\n              <span v-else class=\"icon-thumb_down\"></span>\r\n              <div class=\"flex-recommend\">\r\n                <span class=\"list-recommend\" v-for=\"(recommend,index) in rating.recommend\" :key=\"index\">{{recommend}}</span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </li>\r\n      </ul>\r\n    </div>\r\n  </div>\r\n</div>\r\n</template>\r\n\r\n<script type=\"text/ecmascript-6\">\r\nimport Star from 'components/star/star'\r\nimport SpliceLine from 'components/spliceline/spliceline'\r\nimport RatingSelect from 'components/ratingselect/ratingselect'\r\nimport { formatDate } from 'common/js/date'\r\nimport BScroll from '@better-scroll/core'\r\n\r\nconst ERR_OK = 0\r\n// const POSITIVE = 0\r\n// const NEGATIVE = 1\r\nconst ALL = 2\r\nexport default {\r\n  data() {\r\n    return {\r\n      ratings: [],\r\n      selectType: ALL,\r\n      onlyContent: false\r\n    }\r\n  },\r\n  props: {\r\n    seller: {\r\n      type: Object,\r\n      default() {\r\n        return {}\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    _inintScroll: function() {\r\n      if (!this.ratingScroll) {\r\n        this.$nextTick(() => {\r\n          this.ratingScroll = new BScroll(this.$refs.ratingsScroll, {\r\n            click: true\r\n          })\r\n        })\r\n      }\r\n    },\r\n    needShow: function (type, text) {\r\n      if (this.onlyContent && !text) {\r\n        return false\r\n      }\r\n      if (this.selectType === ALL) {\r\n        return true\r\n      } else {\r\n        return this.selectType === type\r\n      }\r\n    },\r\n    selectRating: function (type) {\r\n      this.selectType = type\r\n      this.ratingScroll.refresh()\r\n    },\r\n    toggleContent: function () {\r\n      this.onlyContent = !this.onlyContent\r\n    }\r\n  },\r\n  filters: {\r\n    formatDate(time) {\r\n      let date = new Date(time)\r\n      return formatDate(date, 'yyyy-MM-dd hh:mm')\r\n    }\r\n  },\r\n  created() {\r\n    this.$http.get('http://selladmin.bfclouds.cn/ratings.php', {}, { emulateJSON: true }).then((res) => {\r\n      res = res.body\r\n      if (res.errno === ERR_OK) {\r\n        this.ratings = res.data\r\n        this._inintScroll()\r\n      }\r\n    }).catch((res) => {\r\n      this.ratings = []\r\n    })\r\n  },\r\n  components: {\r\n    Star,\r\n    SpliceLine,\r\n    RatingSelect\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"stylus\" rel=\"stylesheet/stylus\">\r\n@import 'common/stylus/mixin.styl'\r\n\r\n  .ratings\r\n    position: absolute\r\n    top: 174px\r\n    // bottom: 46px\r\n    bottom: 0\r\n    width: 100%\r\n    overflow: hidden\r\n    .score-wrapper\r\n      display: flex\r\n      padding: 18px 0\r\n      .score\r\n        flex: 0 1 137px\r\n        text-align: center\r\n        border-right: 1px solid rgba(7, 17, 27, 0.1)\r\n        .score-num\r\n          margin-bottom: 6px\r\n          font-size: 24px\r\n          line-height: 28px\r\n          color: rgb(255, 153, 0)\r\n        .com-score\r\n          margin-bottom: 8px\r\n          font-size: 12px\r\n          line-height: 12px\r\n          color: rgb(7, 17, 27)\r\n        .extra\r\n          margin-bottom: 6px\r\n          font-size: 10px\r\n          line-height: 10px\r\n          color: rgba(7, 17, 27, 0.5)\r\n      .score-star\r\n        flex: 1\r\n        margin: 0 24px\r\n        .service-swepper\r\n          font-size: 12px\r\n          .service-title\r\n            display: inline-block\r\n            margin-right: 12px\r\n          .star\r\n            display: inline\r\n            margin-right: 12px\r\n          .score-right\r\n            display: inline-block\r\n            line-height: 18px\r\n            color: rgb(255, 153, 0)\r\n          .delivery-time\r\n            display: inline\r\n            color: rgb(147, 153, 159)\r\n        .service-swepper:not(:last-child)\r\n            margin-bottom: 8px\r\n    .rating-region\r\n      margin: 18px 24px\r\n    .content-wepper\r\n      border-top: 1px solid rgba(7, 17, 27, 0.1)\r\n      .list-ratings\r\n        padding: 0 18px\r\n        .rating-content\r\n          display: flex\r\n          margin-top: 18px\r\n          border-bottom: 1px solid rgba(7, 17, 27, 0.1)\r\n          .avatar\r\n            flex: 0 1 28px\r\n            margin-right: 12px\r\n            width: 28px\r\n            height: 28px\r\n            border-radius: 50%\r\n            overflow: hidden\r\n            img\r\n              width: 100%\r\n          .content\r\n            flex: 1\r\n            font-size: 10px\r\n            line-height: 12px\r\n            .content-header\r\n              .name\r\n                display: inline-block\r\n                color: rgb(7, 17, 27)\r\n              .time\r\n                display: inline-block\r\n                float: right\r\n                font-weight: 200\r\n                color: rgb(147, 153, 159)\r\n            .content-star\r\n              .star\r\n                display: inline-block\r\n                margin: 4px 6px 0 0\r\n              .delivery-time\r\n                display: inline-block\r\n                font-size: 10px\r\n                line-height: 12px\r\n                font-weight: 100\r\n                color: rgb(147, 153, 159)\r\n            .text\r\n              display: block\r\n              margin-top: 6px\r\n              font-size: 12px\r\n              line-height: 18px\r\n              color: rgb(7, 17, 27)\r\n            .recommend\r\n              display: flex\r\n              margin-top: 8px\r\n              margin-bottom: 18px\r\n              font-size: 12px\r\n              line-height: 16px\r\n              .icon-thumb_up\r\n                flex: 0 1 20px\r\n                color: rgb(0, 160, 220)\r\n              .icon-thumb_down\r\n                flex: 0 1 20px\r\n                color: rgb(183, 187, 191)\r\n              .flex-recommend\r\n                display: flex\r\n                flex-wrap: wrap\r\n                .list-recommend\r\n                  margin: 0 8px 8px\r\n                  padding: 0 6px\r\n                  min-width: 0\r\n                  font-size: 9px\r\n                  line-height: 16px\r\n                  text-align: center\r\n                  text-overflow: ellipsis\r\n                  color: rgb(147, 153, 159)\r\n                  border: 1px solid rgba(7, 17, 27, 0.1)\r\n                  border-radius: 2px\r\n\r\n</style>\r\n"]}]}